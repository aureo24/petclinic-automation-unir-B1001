{"version":3,"file":"InMemoryWriter.js","names":["_fs","require","_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","InMemoryWriter","constructor","writeGroup","result","groups","push","writeResult","tests","writeAttachment","distFileName","content","attachments","writeAttachmentFromPath","from","readFileSync","writeCategoriesDefinitions","categories","writeEnvironmentInfo","envInfo","exports"],"sources":["../../../../../src/sdk/reporter/writer/InMemoryWriter.ts"],"sourcesContent":["import { readFileSync } from \"fs\";\nimport type { TestResult, TestResultContainer } from \"../../../model.js\";\nimport type { AllureResults, Category, EnvironmentInfo } from \"../../types.js\";\nimport type { Writer } from \"../types.js\";\n\nexport class InMemoryWriter implements Writer, AllureResults {\n  public groups: TestResultContainer[] = [];\n  public tests: TestResult[] = [];\n  public attachments: Record<string, Buffer> = {};\n  public categories?: Category[];\n  public envInfo?: Record<string, string | undefined>;\n\n  public writeGroup(result: TestResultContainer): void {\n    this.groups.push(result);\n  }\n\n  public writeResult(result: TestResult): void {\n    this.tests.push(result);\n  }\n\n  public writeAttachment(distFileName: string, content: Buffer): void {\n    this.attachments[distFileName] = content;\n  }\n\n  public writeAttachmentFromPath(distFileName: string, from: string): void {\n    this.attachments[distFileName] = readFileSync(from);\n  }\n\n  public writeCategoriesDefinitions(categories: Category[]): void {\n    this.categories = categories;\n  }\n\n  public writeEnvironmentInfo(envInfo: EnvironmentInfo): void {\n    this.envInfo = envInfo;\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,GAAA,GAAAC,OAAA;AAAkC,SAAAC,gBAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAE,cAAA,CAAAF,CAAA,MAAAD,CAAA,GAAAI,MAAA,CAAAC,cAAA,CAAAL,CAAA,EAAAC,CAAA,IAAAK,KAAA,EAAAJ,CAAA,EAAAK,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAAT,CAAA,CAAAC,CAAA,IAAAC,CAAA,EAAAF,CAAA;AAAA,SAAAG,eAAAD,CAAA,QAAAQ,CAAA,GAAAC,YAAA,CAAAT,CAAA,uCAAAQ,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAT,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAU,MAAA,CAAAC,WAAA,kBAAAb,CAAA,QAAAU,CAAA,GAAAV,CAAA,CAAAc,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAS,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAd,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA;AAK3B,MAAMgB,cAAc,CAAkC;EAAAC,YAAA;IAAApB,eAAA,iBACpB,EAAE;IAAAA,eAAA,gBACZ,EAAE;IAAAA,eAAA,sBACc,CAAC,CAAC;IAAAA,eAAA;IAAAA,eAAA;EAAA;EAIxCqB,UAAUA,CAACC,MAA2B,EAAQ;IACnD,IAAI,CAACC,MAAM,CAACC,IAAI,CAACF,MAAM,CAAC;EAC1B;EAEOG,WAAWA,CAACH,MAAkB,EAAQ;IAC3C,IAAI,CAACI,KAAK,CAACF,IAAI,CAACF,MAAM,CAAC;EACzB;EAEOK,eAAeA,CAACC,YAAoB,EAAEC,OAAe,EAAQ;IAClE,IAAI,CAACC,WAAW,CAACF,YAAY,CAAC,GAAGC,OAAO;EAC1C;EAEOE,uBAAuBA,CAACH,YAAoB,EAAEI,IAAY,EAAQ;IACvE,IAAI,CAACF,WAAW,CAACF,YAAY,CAAC,GAAG,IAAAK,gBAAY,EAACD,IAAI,CAAC;EACrD;EAEOE,0BAA0BA,CAACC,UAAsB,EAAQ;IAC9D,IAAI,CAACA,UAAU,GAAGA,UAAU;EAC9B;EAEOC,oBAAoBA,CAACC,OAAwB,EAAQ;IAC1D,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;AACF;AAACC,OAAA,CAAAnB,cAAA,GAAAA,cAAA","ignoreList":[]}