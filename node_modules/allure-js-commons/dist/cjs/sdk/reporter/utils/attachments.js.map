{"version":3,"file":"attachments.js","names":["_utils","require","_extensions","typeToExtension","options","fileExtension","startsWith","concat","EXTENSIONS_BY_TYPE","contentType","exports","buildAttachmentFileName","attachmentUuid","randomUuid","attachmentExtension"],"sources":["../../../../../src/sdk/reporter/utils/attachments.ts"],"sourcesContent":["import type { AttachmentOptions } from \"../../../model.js\";\nimport { randomUuid } from \"../utils.js\";\nimport { EXTENSIONS_BY_TYPE } from \"./extensions.js\";\n\nexport const typeToExtension = (options: AttachmentOptions): string => {\n  if (options.fileExtension) {\n    return options.fileExtension.startsWith(\".\") ? options.fileExtension : `.${options.fileExtension}`;\n  }\n\n  return EXTENSIONS_BY_TYPE[options.contentType] || \"\";\n};\n\nexport const buildAttachmentFileName = (options: Pick<AttachmentOptions, \"fileExtension\" | \"contentType\">): string => {\n  const attachmentUuid = randomUuid();\n  const attachmentExtension = typeToExtension({\n    fileExtension: options.fileExtension,\n    contentType: options.contentType,\n  });\n\n  return `${attachmentUuid}-attachment${attachmentExtension}`;\n};\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AAEO,IAAME,eAAe,GAAIC,OAA0B,IAAa;EACrE,IAAIA,OAAO,CAACC,aAAa,EAAE;IACzB,OAAOD,OAAO,CAACC,aAAa,CAACC,UAAU,CAAC,GAAG,CAAC,GAAGF,OAAO,CAACC,aAAa,OAAAE,MAAA,CAAOH,OAAO,CAACC,aAAa,CAAE;EACpG;EAEA,OAAOG,8BAAkB,CAACJ,OAAO,CAACK,WAAW,CAAC,IAAI,EAAE;AACtD,CAAC;AAACC,OAAA,CAAAP,eAAA,GAAAA,eAAA;AAEK,IAAMQ,uBAAuB,GAAIP,OAAiE,IAAa;EACpH,IAAMQ,cAAc,GAAG,IAAAC,iBAAU,EAAC,CAAC;EACnC,IAAMC,mBAAmB,GAAGX,eAAe,CAAC;IAC1CE,aAAa,EAAED,OAAO,CAACC,aAAa;IACpCI,WAAW,EAAEL,OAAO,CAACK;EACvB,CAAC,CAAC;EAEF,UAAAF,MAAA,CAAUK,cAAc,iBAAAL,MAAA,CAAcO,mBAAmB;AAC3D,CAAC;AAACJ,OAAA,CAAAC,uBAAA,GAAAA,uBAAA","ignoreList":[]}