{"version":3,"file":"testplan.js","names":["_reporter","require","testPlanFilter","exports","testPlan","parseTestPlan","undefined","tests","flatMap","testInfo","selector","map","pattern","replace","RegExp","concat","escapeRegExp"],"sources":["../../src/testplan.ts"],"sourcesContent":["import { escapeRegExp, parseTestPlan } from \"allure-js-commons/sdk/reporter\";\n\nexport const testPlanFilter = () => {\n  const testPlan = parseTestPlan();\n  if (!testPlan) {\n    return undefined;\n  }\n\n  return testPlan.tests\n    .flatMap((testInfo) => (testInfo.selector ? [testInfo.selector] : []))\n    .map((selector) => {\n      const pattern = selector.replace(\"#\", \" \");\n      return new RegExp(`\\\\s${escapeRegExp(pattern)}$`);\n    });\n};\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAEO,IAAMC,cAAc,GAAAC,OAAA,CAAAD,cAAA,GAAG,SAAjBA,cAAcA,CAAA,EAAS;EAClC,IAAME,QAAQ,GAAG,IAAAC,uBAAa,EAAC,CAAC;EAChC,IAAI,CAACD,QAAQ,EAAE;IACb,OAAOE,SAAS;EAClB;EAEA,OAAOF,QAAQ,CAACG,KAAK,CAClBC,OAAO,CAAC,UAACC,QAAQ;IAAA,OAAMA,QAAQ,CAACC,QAAQ,GAAG,CAACD,QAAQ,CAACC,QAAQ,CAAC,GAAG,EAAE;EAAA,CAAC,CAAC,CACrEC,GAAG,CAAC,UAACD,QAAQ,EAAK;IACjB,IAAME,OAAO,GAAGF,QAAQ,CAACG,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;IAC1C,OAAO,IAAIC,MAAM,OAAAC,MAAA,CAAO,IAAAC,sBAAY,EAACJ,OAAO,CAAC,MAAG,CAAC;EACnD,CAAC,CAAC;AACN,CAAC","ignoreList":[]}